

CREATE TABLE consulta (
  IDCON int(11) NOT NULL,
  IDFUNC int(11) NOT NULL,
  IDESP int(11) NOT NULL,
  IDPAC int(11) NOT NULL,
  DTCON datetime NOT NULL,
  VRCON float DEFAULT NULL,
  DTMAR datetime DEFAULT NULL,
  DTCLM datetime DEFAULT NULL,
  PRIMARY KEY (IDCON),
  CONSTRAINT ChaveEstrangeiraFE FOREIGN KEY (IDFUNC, IDESP) REFERENCES fe (IDFUNC, IDESP) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT ChaveEstraneiraPac FOREIGN KEY (IDPAC) REFERENCES paciente (IDPAC) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB;


insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (1,100,2,2,'2013-04-03 00:00:00',60,'2012-01-01 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (2,100,2,1,'2014-04-03 00:00:00',60,'2012-02-01 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (3,120,3,2,'2012-04-09 00:00:00',50,'2012-03-03 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (4,100,2,5,'2014-04-06 00:00:00',60,'2012-02-20 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (5,100,2,4,'2012-12-03 00:00:00',0,'2012-02-01 00:00:00','2012-03-01 00:00:00');
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (6,120,3,4,'2014-05-09 00:00:00',50,'2012-03-03 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (8,100,2,2,'2013-05-28 21:43:58',0,'2013-05-28 21:43:58',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (9,100,2,2,'2013-04-10 00:00:00',60,'2013-01-01 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (10,100,2,1,'2014-04-11 00:00:00',60,'2013-09-01 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (11,120,3,2,'2012-04-12 00:00:00',50,'2012-03-03 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (12,100,2,5,'2014-03-13 00:00:00',60,'2013-05-20 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (13,100,2,4,'2014-10-14 00:00:00',0,'2014-02-01 00:00:00','2014-03-09 00:00:00');
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (14,120,3,4,'2014-06-15 00:00:00',50,'2012-03-03 00:00:00',null);
insert into consulta(IDCON,IDFUNC,IDESP,IDPAC,DTCON,VRCON,DTMAR,DTCLM) values (15,100,2,2,'2013-06-25 21:43:58',0,'2013-05-28 21:43:58',null);